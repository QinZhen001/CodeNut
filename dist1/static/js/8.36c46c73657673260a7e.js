webpackJsonp([8],{578:function(t,e,o){o(601);var s=o(9)(o(597),o(604),null,null);t.exports=s.exports},597:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={data:function(){return{username:"",password:"",email:"",school:"",occupation:""}},methods:{register:function(){var t=this;this.$http.post("https://api.txdna.cn/users",{username:this.username,password:this.password,email:this.email,school:this.school,occupation:this.occupation}).then(function(e){console.log(e.body),"ok"===e.body.msg?(t.$toast({message:"注册成功",position:"bottom",iconClass:"icon icon-ok"}),t.$router.push({path:"/aboutme"})):"no"===e.body.msg&&(t.$toast({message:"该用户已存在",position:"bottom",iconClass:"icon icon-delete"}),t.username="",t.$refs.username.focus())},function(e){console.log(e),t.$toast({message:"注册失败",position:"bottom",iconClass:"icon icon-delete"})})}},watch:{username:function(t){console.log(t),t.length<6&&(this.$toast({message:"用户名过短,请重新输入",position:"bottom"}),this.username="",this.$refs.username.focus())},password:function(t){t.length<6&&(this.$toast({message:"密码过短,请重新输入",position:"bottom"}),this.password="",this.$refs.password.focus())},email:function(t){new RegExp("([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+").test(t)||(this.$toast({message:"请输入正确的邮箱",position:"bottom"}),this.email="",this.$refs.email.focus())}}}},599:function(t,e,o){e=t.exports=o(576)(!1),e.push([t.i,".register{position:fixed;left:0;right:0;top:0;bottom:0;z-index:1000;background-color:#222;text-align:center}.register .input-wrapper{margin:30px 0;text-align:center}.register .input-wrapper .input-item{width:80%;height:40px;margin-bottom:15px;padding-left:10px;border:1px solid #fff;border-radius:4px;color:#fff;background-color:#222}.register .btn-register{width:70%;margin:0 auto}.slide-enter-active,.slide-leave-active{transition:all .3s}.slide-enter,.slide-leave-to{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}",""])},601:function(t,e,o){var s=o(599);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);o(577)("69ad3225",s,!0)},604:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"slide"}},[o("div",{staticClass:"register"},[o("mt-header",{attrs:{title:"注册"}},[o("router-link",{attrs:{to:"/search"},slot:"left"},[o("mt-button",{attrs:{icon:"back"}},[t._v("返回")])],1)],1),t._v(" "),o("div",{staticClass:"input-wrapper"},[o("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.username,expression:"username",modifiers:{trim:!0,lazy:!0}}],ref:"username",staticClass:"input-item",attrs:{placeholder:"请输入用户名",type:"text"},domProps:{value:t.username},on:{change:function(e){t.username=e.target.value.trim()},blur:function(e){t.$forceUpdate()}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.password,expression:"password",modifiers:{trim:!0,lazy:!0}}],ref:"password",staticClass:"input-item",attrs:{placeholder:"请输入密码",type:"password"},domProps:{value:t.password},on:{change:function(e){t.password=e.target.value.trim()},blur:function(e){t.$forceUpdate()}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.email,expression:"email",modifiers:{trim:!0,lazy:!0}}],ref:"email",staticClass:"input-item",attrs:{placeholder:"请输入邮箱",type:"text"},domProps:{value:t.email},on:{change:function(e){t.email=e.target.value.trim()},blur:function(e){t.$forceUpdate()}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.school,expression:"school",modifiers:{trim:!0,lazy:!0}}],ref:"school",staticClass:"input-item",attrs:{placeholder:"请输入学校",type:"text"},domProps:{value:t.school},on:{change:function(e){t.school=e.target.value.trim()},blur:function(e){t.$forceUpdate()}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.occupation,expression:"occupation",modifiers:{trim:!0,lazy:!0}}],ref:"occupation",staticClass:"input-item",attrs:{placeholder:"请输入职业",type:"text"},domProps:{value:t.occupation},on:{change:function(e){t.occupation=e.target.value.trim()},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),o("mt-button",{staticClass:"btn-register",attrs:{type:"primary"},on:{click:function(e){e.stopPropagation(),t.register(e)}}},[t._v("注册")])],1)])},staticRenderFns:[]}}});